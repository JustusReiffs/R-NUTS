# Part Justus Reiffs

This Part will show the developpment of education and employment in comparison for male and female genders.


```{r}
str(info)
```

```{r}
colnames(info)
```
## Erly Levers in Germany, differences in gernders scince 2000

This Part is used to compare the developpment of school early leavers for the time scince 
2000 till 2019 for women and men.

### Set up / Gather Data 

To start we need to import the library. The library stores the comands wich are used to 
handle the data.

```{r}
library(tidyverse)
```

Here the Dataset is imported, so it is posible to acces the information from it. 

```{r}
info <- read.csv("qog_eureg_wide1_nov20.csv")
```

Then before visualisation the data gets filtert. To start that only the information of 
those rows is accesed wich havethe region name GERMANY. Secont the information is selected 
so that there is region name and the the year available. Further the limits are beeing set. 
Therefore we filter futhere that only the walues we need are available. They are also 
filtert fore the data from the "nuts0" part. then the seperat steps get combyned so there 
is only one variable is needed to acces the information.

```{r}
germaninfo <- filter(info, region_name == "GERMANY")

specef <- select(germaninfo, region_name, year)

filtered <- select(germaninfo, eu_eduleave_m_nuts0:eu_eduleave_f_nuts0)

filtered <- select(filtered, ends_with("nuts0"))

merged <- bind_cols(specef, filtered)

merged <- filter(merged, year >= 2000 & year < 2019)
```

### DIsplay diagramm

After the data is available and tidy so that it is more practical the plot can be build. 
So this folowing code will generate a plot thar schows the the developpment of the data.

```{r comparison of erlyLevers for male and female}
ggplot(data = merged) +
  geom_line(mapping = aes(x = year, y = eu_eduleave_m_nuts0, color = "Female")) +
  geom_line(mapping = aes(x = year, y = eu_eduleave_f_nuts0, color = "Male")) +
  scale_color_manual(name = "Gender", values = c("Female" = "blue", "Male" = "red")) +
  ggtitle("Comparison of erlylevers in education for Female and male") +
  xlab("Time in years(2000-2019)") +
  ylab("Percentage of erly levers")
```

The Diagramm shows the developpment of erly levers from education and training in percentage
in the time between 2000 and 2019 in comparison for male and female gender. 
In the begining there where more male levers than female leavers which turned after a 
couple years. So before 2005 the amount of femalef increased mote than the amount of the males 
that quit erly. In general the amount of erlylevers is decreaseing but the amount of females is 
much higer than the amount if males in 2019.

## Employment rate for age between 15-34 in Europe

In this part the Employment rate for Germany, France, NETHERLANDS and Poland is going to 
be compared.

### Set up / Gather Data 

First the it is important to doad the library. In this case it is the tidyverse library.

```{r}
library(tidyverse)
```

Here the dataset is accesed and read. The information is stored in the variable "info".

```{r}
info <- read.csv("qog_eureg_wide1_nov20.csv")
```

To continue the data needs to be tidy. So in this case the data for each country gets 
filtered and stored in an own variable. After that the information for each country gets 
selectet and specified further. 

```{r regional educaton}
ger <- filter(info, region_name == "GERMANY")
fr <- filter(info, region_name == "FRANCE")
nl <- filter(info, region_name == "NETHERLANDS")
pl <- filter(info, region_name == "POLAND")

gerinfo <- select(ger, region_name, year)
frinfo <- select(fr, region_name, year)
nlinfo <- select(nl, region_name, year)
plinfo <- select(pl, region_name, year)

ger_fil <- select(ger, eu_empl_durtotal_nuts0:eu_neet_y1524t_nuts0)
fr_fil <- select(fr, eu_empl_durtotal_nuts0:eu_neet_y1524t_nuts0)
nl_fil <- select(nl, eu_empl_durtotal_nuts0:eu_neet_y1524t_nuts0)
pl_fil <- select(pl, eu_empl_durtotal_nuts0:eu_neet_y1524t_nuts0)

ger_fil <- select(ger_fil, ends_with("nuts0"))
fr_fil <- select(fr_fil, ends_with("nuts0"))
nl_fil <- select(nl_fil, ends_with("nuts0"))
pl_fil <- select(pl_fil, ends_with("nuts0"))

ger_merge <- bind_cols(gerinfo, ger_fil)
fr_merge <- bind_cols(frinfo, fr_fil)
nl_merge <- bind_cols(nlinfo, nl_fil)
pl_merge <- bind_cols(plinfo, pl_fil)

ger_merge <- filter(ger_merge, year >= 2000 & year < 2019)
fr_merge <- filter(fr_merge, year >= 2000 & year < 2019)
nl_merge <- filter(nl_merge, year >= 2000 & year < 2019)
pl_merge <- filter(pl_merge, year >= 2000 & year < 2019)
```

### DIsplay diagramm

To create the plot the ggplot function is used. Than there are vour values displayed in 
comparison. 

```{r}
ggplot() +
  geom_line(data = ger_merge, aes(x = year, y = eu_empl_durtotal_nuts0, color = "Germany")) +
  geom_line(data = fr_merge, aes(x = year, y = eu_empl_durtotal_nuts0, color = "France")) +
  geom_line(data = nl_merge, aes(x = year, y = eu_empl_durtotal_nuts0, color = "Netherlands")) +
  geom_line(data = pl_merge, aes(x = year, y = eu_empl_durtotal_nuts0, color = "Poland")) +
  scale_color_manual(name = "Gender", values = c("Germany" = "black", "France" = "blue", "Netherlands" = "orange", "Poland" = "red")) +
  ggtitle("Employment rate for 15-34 jears in Germany, France, Netherlands and Poland scince 2000") +
  xlab("Time in years(2000-2019)") +
  ylab("Employment rate for people between 15 and 34")
```

The generated diagram displayes the employment rate for people between the age of 15 and 34 
in comparison for Germany, France, Netherlands and Poland over the time between 2000 and 2019.
In the start the Employmentrate in poland is the lowest while the Employmentrate in the 
netherland is the higest. Arount 2002 the Rate in poland increased and grows over 75. While 
after 2007 the employment rate in France decreased. The german employment rate in the begining 
decreased till 2005. After 2005 the rate incresed. In the end the Emploment rate in the 
netherlands is the higest followed by germany and poland while france has the lowest.

## Employment rate in germany for Male and Female

In this part the developpment of the Employmentrate for Female and Male is compared. Theredore 
the Employmentrate of 15-24 jears old and 25-34 jears old is compared in an time from 1999-2019.

### Set up / Gather Data 

To start the library is loaded. The libary uded is the tidyvers libary because it is one of 
the most comen ones. 

```{r}
library(tidyverse)
```

Here the dataset is made available and read. After it has been imported to the info variable.

```{r}
info <- read.csv("qog_eureg_wide1_nov20.csv")
```

Here the data is filtered and tidyed so that only the relevant parts are interfereeng with the 
plot. The Data gets limetet for the german values and further selected fore the specific 
factors and the years that are under inverstigation.

```{r}
gerinfo <- filter(info, region_name == "GERMANY")

spec <- select(germaninfo, region_name, year)

ger_fil <- select(gerinfo, eu_emp_1524f_nuts0:eu_emp_2534t_nuts0)

ger_fil <- select(ger_fil, ends_with("nuts0"))

ger_merge <- bind_cols(spec, ger_fil)

ger_merge <- filter(ger_merge, year >= 1999 & year < 2019)
```

### DIsplay diagramm

In the following the plot is createt using the ggplot.

```{r rmployment rate }
ggplot(data = ger_merge) +
  geom_line(mapping = aes(x = year, y = eu_emp_1524f_nuts0, color = "Female 15-24 years old")) +
  geom_line(mapping = aes(x = year, y = eu_emp_1524m_nuts0, color = "Male 15-24 years old")) +
  geom_line(mapping = aes(x = year, y = eu_emp_2534f_nuts0, color = "Female 25-34 years old")) +
  geom_line(mapping = aes(x = year, y = eu_emp_2534m_nuts0, color = "Male 25-34 years old")) +
  scale_color_manual(name = "Age Groups", values = c("Female 15-24 years old" = "#0000ff", "Male 15-24 years old" = "#7979ff", "Female 25-34 years old" = "#e600ff", "Male 25-34 years old" = "#ff6ef8")) +
  ggtitle("Employment rate for 15 to 24 jears old and 25 to 34 in Germany between 1999 and 2019") +
  xlab("Time in years(1999-2019)") +
  ylab("Employment rate")
```

The diagram shows the Employment rate for Male and Female in comparison of there gender and 
their age. The first age is 15 to 24 jears old and the second is for 25 to 34 jears old. 
The rate for the 25-34 jears old in general is huger than the one for 15 to 34 jears old. 
Also for both groups the rate for the female group is much lower than the rate for the male.

## Regression

In this part will be performed a multyvariate regression. Therfore the Educational attainment for 
the ages between 15 and 64 in secundary education for both genders are going to be compared to 
the percentage of beeing at risk of beeing in poverty by the NUTS regions.

### collecting data 

First the libraries are needet. Therefore the ggplot2 and tidyverse libary is loadet. This gives the
posibility to use multiple comands and leps managing the data. 

```{r}
library(ggplot2)
library(tidyverse)
```

Then the Dataset for the regression is read and stored in the variable "info".

```{r}
info <- read.csv("qog_eureg_wide1_nov20.csv")
```

Then the model for linear regression is build. Therefore the variable model is used to store the
"lm()" command. Unside that comand the information is defind. Once we have the risk of poverty and 
the educational attainment. Also the information for the year and the dataset are includet.
Then the summary function will call a summary of that model.

```{r}
model <- lm(eu_povrisk_pc_nuts0 ~ eu_edatt_ed34_y2564t_nuts0 + year, data = info)

summary(model)
```

The first result we we get is the output from the summary. First we get the call for the model. 
After the that residuals are given. The median has an value of -1.090 that is near to 0. also
the min and max values are verry close and only habe a difference in a view points.
The coefficient values are as follows. The values here are less than 0.05 to. That indicates 
that there is an significand relationship between predictor variable and dependent variable.
The low F-statistic and p-value indicates that the variables having an significand relationship 
as well.

```{r}
plot(model, which = 1)
```

First we can analyse the Randomness of the diagramm. When the values are scattered around the 
horizontal line for zero is is to suggest that the model is corectly capturing the relationship 
of those variabels.
Second the constant variance is importand. It is to see that there is an constant pread of residuals.
That is called homoscedasticity and indicates an constans varians of the residants acros the values. 

```{r}
plot(model, which = 2)
```

At first to highlit the linerity if the diagram. The points on the diagram are nerly on a straight 
line which indicates that the data used is apxroximatly normal.
The symetry of the points also is verry importent. Here we can se that the points are roughly symmetrically
around the line. This indicates that the data is skewed.
Outliers are visible at the top right and are clerly apart from the other points.

```{r}
plot(model, which = 3)
```

The diagram shows a whid spred vield of the points this indicates no clear pattern. This indicates 
that the modell coractly captures the relationship in the data.
The constant variance is visible by its wide spred that indicates homoscedasticity and a constant 
variance across the values.


In the end it is to assume that the regression of that data was successful. The values are not 
perfect but still suitable for that regression to read the results from the generated diagramms. 